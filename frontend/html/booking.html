<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <title>Book a Storage Unit</title>
</head>
<body>
    <header>
        <div class="logo">
            <img src="images/logo.jpg" alt="SpaceSafe Logo" width="80px" height="50px">
        </div>
        <div class="heading">SpaceSafe</div>
        <nav>
            <a href="#">About Us</a>
            <a href="#">Contact Us</a>
            <a href="storage_location.html">Locations</a>
            <a class="login_btn" href="login_signup_form.html">Login</a>
        </nav>
    </header>
    <div class="container">
        <h1>Book a Storage Unit</h1>
        <div class="form-container">
            <h2>Select Your Location and Unit:</h2>
            <form id="bookingForm">
                <!-- Location Dropdown -->
                <label for="location">Select Location:</label>
                <select id="location" name="location" required>
                    <option value="" disabled selected>Select a Location</option>
                    <option value="Century City">Century City</option>
                    <option value="Maynard Mall, Wynberg">Maynard Mall, Wynberg</option>
                    <option value="Melrose">Melrose</option>
                    <option value="Rosebank">Rosebank</option>
                </select><br>

                <!-- Unit Selection -->
                <div id="unit-selection" style="display: none;">
                    <h3>Available Units:</h3>
                    <div class="units">
                        <input type="radio" id="unit1" name="unit" value="Unit 1" required>
                        <label for="unit1">Unit 1</label><br>

                        <input type="radio" id="unit2" name="unit" value="Unit 2">
                        <label for="unit2">Unit 2</label><br>

                        <input type="radio" id="unit3" name="unit" value="Unit 3">
                        <label for="unit3">Unit 3</label><br>

                        <input type="radio" id="unit4" name="unit" value="Unit 4">
                        <label for="unit4">Unit 4</label><br>

                        <input type="radio" id="unit5" name="unit" value="Unit 5">
                        <label for="unit5">Unit 5</label><br>
                    </div>
                </div>

                <!-- Contact Information -->               
                <input type="text" id="name" placeholder="Your Name" required><br>             
                <input type="text" id="surname" placeholder="Your Surname" required><br>            
                <input type="email" id="email" placeholder="Your Email" required><br>               
                <input type="tel" id="phone" placeholder="Your Phone Number" required><br>

                <!-- Submit and Cancel Buttons -->
                <button type="button" id="submitBtn">Submit</button>
                <button type="button" id="cancelBtn">Cancel</button>
            </form>
            <p class="note">NB: Availability is subject to confirmation.</p>
        </div>
    </div>

    <script>
        const bookingForm = document.getElementById('bookingForm');
        const submitBtn = document.getElementById('submitBtn');
        const cancelBtn = document.getElementById('cancelBtn');
    
        submitBtn.addEventListener('click', () => {
            // Capture form data
            const bookingData = {
                location: bookingForm.location.value,
                unit: bookingForm.unit.value,
                name: bookingForm.name.value,
                surname: bookingForm.surname.value,
                email: bookingForm.email.value,
                phone: bookingForm.phone.value,
            };
    
            // Convert the data to JSON
            const jsonData = JSON.stringify(bookingData, null, 2);
    
            // Create a Blob and a download link
            const blob = new Blob([jsonData], { type: 'application/json' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'bookings.json'; // Name of the file
    
            // Trigger the download
            link.click();
    
            // Alert confirmation
            alert('Booking Confirmed');
        });
    
        cancelBtn.addEventListener('click', () => {
            // Reset the form fields
            bookingForm.reset();
        });
    </script>
    
</body>
</html>
